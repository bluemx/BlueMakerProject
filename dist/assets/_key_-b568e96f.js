import{g as w,h as g,l as c,v as k,q as v,r as b,o as l,c as i,f as d,j as B,e as n,b as M,w as x,F as N,K as u,k as D}from"./app-cde0d0c9.js";import{u as C}from"./builder-a6d2fcf9.js";const R={"flex-grow":"","bg-slate-100":"","p-1":"","dark:bg-slate-900":"",relative:""},V=["src"],A={absolute:"","right-2":"","bottom-2":""},f={__name:"[key]",setup(E){const m=g(),e=C(),a=c();e.type="riodas";const p=window.location.href.includes("localhost")?"https://localhost:5173/#MAKER":"https://odas.win/#MAKER",_=async()=>{await e.loadDoc(m.params.key),r()},t=c();c(!1);const r=()=>{var s;const o={type:"oda",oda:(s=e==null?void 0:e.doc)==null?void 0:s.content};t.value.contentWindow.postMessage(JSON.stringify(o),"*")};k(()=>{var o;(o=a==null?void 0:a.value)==null||o.showModal(),v(e,s=>{s.doc&&r()},{deep:!0}),setTimeout(()=>{_()},200),t.value.onload=()=>{r(),e.iframe=t.value}});const y=()=>{const o={type:"restartoda"};t.value.contentWindow.postMessage(JSON.stringify(o),"*"),setTimeout(()=>{r()},200)};return(o,s)=>{const h=b("UButton");return l(),i(N,null,[d(e).doc?B("v-if",!0):(l(),i("dialog",{key:0,ref_key:"loading",ref:a}," Loading... ",512)),n("section",R,[n("iframe",{ref_key:"iframe",ref:t,src:d(p),frameborder:"0",class:"w-full h-full",allow:"camera;microphone;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"true"},null,8,V),n("div",A,[M(h,{onClick:y,size:"sm"},{default:x(()=>[D("Reset ODA")]),_:1})])])],64)}}};typeof u=="function"&&u(f);const S=w(f,[["__file","/Users/fldsmdfr/Documents/GitHub/BlueMakerProject/src/pages/riodas/[key].vue"]]);export{S as default};
