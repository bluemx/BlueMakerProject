import{g as w,h as g,l as c,B as k,A as v,r as b,o as l,c as i,f as d,j as B,e as n,b as M,w as N,F as x,N as u,k as D}from"./app-c8e81ced.js";import{u as A}from"./builder-a102cc51.js";const C={"flex-grow":"","bg-slate-100":"","p-1":"","dark:bg-slate-900":"",relative:""},R=["src"],V={absolute:"","right-2":"","bottom-2":""},f={__name:"[key]",setup(E){const m=g(),e=A(),a=c();e.type="riodas";const p=window.location.href.includes("localhost")?"https://localhost:5173/#MAKER":"https://odas.win/#MAKER",_=async()=>{await e.loadDoc(m.params.key),r()},t=c();c(!1);const r=()=>{var s;const o={type:"oda",oda:(s=e==null?void 0:e.doc)==null?void 0:s.content};t.value.contentWindow.postMessage(JSON.stringify(o),"*")};k(()=>{var o;(o=a==null?void 0:a.value)==null||o.showModal(),v(e,s=>{s.doc&&r()},{deep:!0}),setTimeout(()=>{_()},200),t.value.onload=()=>{r(),e.iframe=t.value}});const y=()=>{const o={type:"restartoda"};t.value.contentWindow.postMessage(JSON.stringify(o),"*"),setTimeout(()=>{r()},200)};return(o,s)=>{const h=b("UButton");return l(),i(x,null,[d(e).doc?B("v-if",!0):(l(),i("dialog",{key:0,ref_key:"loading",ref:a}," Loading... ",512)),n("section",C,[n("iframe",{ref_key:"iframe",ref:t,src:d(p),frameborder:"0",class:"w-full h-full",allow:"camera;microphone;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"true"},null,8,R),n("div",V,[M(h,{onClick:y,size:"sm"},{default:N(()=>[D("Reset ODA")]),_:1})])])],64)}}};typeof u=="function"&&u(f);const T=w(f,[["__file","/Users/fldsmdfr/Documents/GitHub/BlueMakerProject/src/pages/riodas/[key].vue"]]);export{T as default};
